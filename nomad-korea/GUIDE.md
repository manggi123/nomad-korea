# ë¬¸ì œ ë¶„í•´ í…œí”Œë¦¿ ì‚¬ìš© ê°€ì´ë“œ

## ğŸ“š ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ë¬¸ì œ ë¶„í•´ 4ë‹¨ê³„](#ë¬¸ì œ-ë¶„í•´-4ë‹¨ê³„)
3. [íŒŒì¼ ìƒì„± ê²°ì • íŠ¸ë¦¬](#íŒŒì¼-ìƒì„±-ê²°ì •-íŠ¸ë¦¬)
4. [Task ì‘ì„± íŒ¨í„´](#task-ì‘ì„±-íŒ¨í„´)
5. [í•¨ìˆ˜ ì‘ì„± íŒ¨í„´](#í•¨ìˆ˜-ì‘ì„±-íŒ¨í„´)
6. [ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±ë²•](#ê²€ì¦-ì‹œë‚˜ë¦¬ì˜¤-ì‘ì„±ë²•)
7. [ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜](#ìì£¼-í•˜ëŠ”-ì‹¤ìˆ˜)
8. [ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](#ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤)

---

## ê°œìš”

ì´ ê°€ì´ë“œëŠ” **TEMPLATE.md**ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ Phaseë¥¼ ê³„íší•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

### ì‚¬ìš© ë°©ë²•
1. `TEMPLATE.md`ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆ íŒŒì¼ ìƒì„± (ì˜ˆ: `phase-3-review.md`)
2. ì´ ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ê° ì„¹ì…˜ ì‘ì„±
3. `EXAMPLE.md`ì—ì„œ ì‹¤ì œ ì˜ˆì‹œ í™•ì¸
4. ì‘ì„± ì™„ë£Œ í›„ íŒ€ì›ê³¼ ë¦¬ë·°

### í…œí”Œë¦¿ì˜ ëª©ì 
- **ì¼ê´€ì„±**: ëª¨ë“  Phaseê°€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ë”°ë¦„
- **ì™„ì „ì„±**: ë†“ì¹˜ê¸° ì‰¬ìš´ ë¶€ë¶„(ë³´ì•ˆ, ì ‘ê·¼ì„± ë“±)ì„ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ í™•ì¸
- **ì¶”ì ì„±**: ê¸°ìˆ  ë¶€ì±„ì™€ ì˜ì¡´ì„±ì„ ëª…í™•íˆ ë¬¸ì„œí™”
- **ì‹¤ìš©ì„±**: 1-4ì‹œê°„ ë‹¨ìœ„ Taskë¡œ ë¶„í•´í•˜ì—¬ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥

---

## ë¬¸ì œ ë¶„í•´ 4ë‹¨ê³„

### 1ë‹¨ê³„: ì‚¬ìš©ì ì—¬ì • íŒŒì•…

**ì§ˆë¬¸**:
- ì‚¬ìš©ìê°€ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ì‹œì‘ì ì€?
- ì¤‘ê°„ì— ì–´ë–¤ í–‰ë™ì„ í•˜ëŠ”ê°€?
- ìµœì¢… ê²°ê³¼ëŠ” ë¬´ì—‡ì¸ê°€?

**ì˜ˆì‹œ**: ë¦¬ë·° ì‘ì„± ê¸°ëŠ¥
```
1. ì‚¬ìš©ìê°€ ë„ì‹œ ìƒì„¸ í˜ì´ì§€ì—ì„œ "ë¦¬ë·° ì‘ì„±" ë²„íŠ¼ í´ë¦­
2. ë¦¬ë·° í¼ì—ì„œ ë³„ì , ì§ì—…, í…ìŠ¤íŠ¸ ì…ë ¥
3. "ì œì¶œ" ë²„íŠ¼ í´ë¦­
4. ë¦¬ë·°ê°€ ë„ì‹œ ìƒì„¸ í˜ì´ì§€ì— í‘œì‹œë¨
```

**Tip**: ì‹¤ì œ ì‚¬ìš©ìì²˜ëŸ¼ ìƒê°í•˜ê³ , ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ ì™€ì´ì–´í”„ë ˆì„ì„ ê·¸ë ¤ë³´ì„¸ìš”.

---

### 2ë‹¨ê³„: UI ë ˆì´ì–´ ë¶„í•´

**ì§ˆë¬¸**:
- ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ í•„ìš”í•œê°€?
- ê° ì»´í¬ë„ŒíŠ¸ì˜ ì±…ì„ì€ ë¬´ì—‡ì¸ê°€?
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ëŠ”?

**ë¶„í•´ ì›ì¹™**:
- **Container/Presenter íŒ¨í„´**: ìƒíƒœ ê´€ë¦¬ì™€ UIë¥¼ ë¶„ë¦¬
- **ë‹¨ì¼ ì±…ì„**: í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ
- **ì¬ì‚¬ìš©ì„±**: ë²„íŠ¼, ì…ë ¥ì°½ ë“±ì€ ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¡œ

**ì˜ˆì‹œ**: ë¦¬ë·° ì‘ì„± í¼
```
UI ë ˆì´ì–´
â”œâ”€â”€ ReviewForm              # í¼ ì „ì²´ (Container)
â”‚   â”œâ”€â”€ StarRating          # ë³„ì  ì…ë ¥
â”‚   â”œâ”€â”€ JobSelector         # ì§ì—… ì„ íƒ
â”‚   â”œâ”€â”€ TextArea            # í…ìŠ¤íŠ¸ ì…ë ¥
â”‚   â””â”€â”€ SubmitButton        # ì œì¶œ ë²„íŠ¼
â””â”€â”€ ReviewList              # ë¦¬ë·° ëª©ë¡ í‘œì‹œ
    â””â”€â”€ ReviewCard          # ê°œë³„ ë¦¬ë·° ì¹´ë“œ
```

**íŒŒì¼ ìœ„ì¹˜**:
```typescript
components/
â”œâ”€â”€ review-form.tsx         # "use client"
â”œâ”€â”€ star-rating.tsx         # "use client" (ìƒí˜¸ì‘ìš©)
â”œâ”€â”€ job-selector.tsx        # "use client"
â””â”€â”€ review-card.tsx         # Server Component (í‘œì‹œë§Œ)
```

---

### 3ë‹¨ê³„: ë¡œì§ ë ˆì´ì–´ ë¶„í•´

**ì§ˆë¬¸**:
- ì–´ë–¤ ê³„ì‚°/ë³€í™˜ì´ í•„ìš”í•œê°€?
- ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ë¶„ë¦¬ ê°€ëŠ¥í•œê°€?
- ìœ íš¨ì„± ê²€ì‚¬ëŠ” ì–´ë””ì„œ?

**ë¶„í•´ ì›ì¹™**:
- **ìˆœìˆ˜ í•¨ìˆ˜**: ê°™ì€ ì…ë ¥ â†’ ê°™ì€ ì¶œë ¥, ë¶€ìˆ˜ íš¨ê³¼ ì—†ìŒ
- **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±**: í•¨ìˆ˜ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸
- **ì¬ì‚¬ìš©ì„±**: ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

**ì˜ˆì‹œ**: ë¦¬ë·° ê´€ë ¨ ë¡œì§
```
ë¡œì§ ë ˆì´ì–´
â”œâ”€â”€ validateReview()        # ìœ íš¨ì„± ê²€ì‚¬
â”œâ”€â”€ calculateAverageRating()# í‰ê·  ë³„ì  ê³„ì‚°
â”œâ”€â”€ filterReviewsByJob()    # ì§ì—…ë³„ í•„í„°ë§
â””â”€â”€ sortReviewsByDate()     # ë‚ ì§œìˆœ ì •ë ¬
```

**íŒŒì¼ ìœ„ì¹˜**:
```typescript
lib/
â”œâ”€â”€ review-validation.ts
â”‚   â””â”€â”€ validateReview(review: ReviewInput): ValidationResult
â”œâ”€â”€ review-utils.ts
â”‚   â”œâ”€â”€ calculateAverageRating(reviews: Review[]): number
â”‚   â””â”€â”€ filterReviewsByJob(reviews: Review[], job: Job): Review[]
â””â”€â”€ review-sort.ts
    â””â”€â”€ sortReviewsByDate(reviews: Review[], order: 'asc' | 'desc'): Review[]
```

**Good ì˜ˆì‹œ**:
```typescript
// lib/review-validation.ts
export function validateReview(review: ReviewInput): ValidationResult {
  const errors: string[] = [];

  if (!review.rating || review.rating < 1 || review.rating > 5) {
    errors.push('ë³„ì ì€ 1-5 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤');
  }

  if (!review.text || review.text.length < 10) {
    errors.push('ë¦¬ë·°ëŠ” ìµœì†Œ 10ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤');
  }

  return {
    isValid: errors.length === 0,
    errors
  };
}
```

**Bad ì˜ˆì‹œ** (ì»´í¬ë„ŒíŠ¸ ì•ˆì— ë¡œì§ í¬í•¨):
```typescript
// components/review-form.tsx âŒ
export function ReviewForm() {
  const handleSubmit = () => {
    // ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ì´ ì»´í¬ë„ŒíŠ¸ ì•ˆì—...
    if (!rating || rating < 1 || rating > 5) {
      // ...
    }
  };
}
```

---

### 4ë‹¨ê³„: ìƒíƒœ ë ˆì´ì–´ ë¶„í•´

**ì§ˆë¬¸**:
- ì–´ë–¤ ìƒíƒœê°€ í•„ìš”í•œê°€?
- ìƒíƒœëŠ” ì–´ë””ì„œ ê´€ë¦¬í•˜ëŠ”ê°€?
- URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ”ê°€?

**ë¶„í•´ ì›ì¹™**:
- **Custom Hook**: ìƒíƒœ ë¡œì§ì„ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ
- **URL State**: í•„í„°, ì •ë ¬ ë“±ì€ URLì— ì €ì¥
- **Local State**: í¼ ì…ë ¥ ë“±ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€

**ì˜ˆì‹œ**: ë¦¬ë·° ê´€ë ¨ ìƒíƒœ
```
ìƒíƒœ ë ˆì´ì–´
â”œâ”€â”€ useReviewForm()         # í¼ ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ rating              # ë³„ì 
â”‚   â”œâ”€â”€ job                 # ì§ì—…
â”‚   â”œâ”€â”€ text                # í…ìŠ¤íŠ¸
â”‚   â””â”€â”€ submitReview()      # ì œì¶œ ì•¡ì…˜
â””â”€â”€ useReviewFilters()      # í•„í„° ìƒíƒœ ê´€ë¦¬ (URL)
    â”œâ”€â”€ jobFilter           # ì§ì—… í•„í„°
    â”œâ”€â”€ sortOrder           # ì •ë ¬ ìˆœì„œ
    â””â”€â”€ setJobFilter()      # í•„í„° ë³€ê²½
```

**íŒŒì¼ ìœ„ì¹˜**:
```typescript
hooks/
â”œâ”€â”€ use-review-form.ts
â””â”€â”€ use-review-filters.ts
```

**Good ì˜ˆì‹œ** (URL ìƒíƒœ ê´€ë¦¬):
```typescript
// hooks/use-review-filters.ts
import { useSearchParams } from 'next/navigation';

export function useReviewFilters() {
  const searchParams = useSearchParams();

  const jobFilter = searchParams.get('job') as Job | null;
  const sortOrder = searchParams.get('sort') as 'latest' | 'oldest' || 'latest';

  const setJobFilter = (job: Job | null) => {
    const params = new URLSearchParams(searchParams);
    if (job) {
      params.set('job', job);
    } else {
      params.delete('job');
    }
    window.history.pushState({}, '', `?${params.toString()}`);
  };

  return { jobFilter, sortOrder, setJobFilter };
}
```

---

## íŒŒì¼ ìƒì„± ê²°ì • íŠ¸ë¦¬

ìƒˆë¡œìš´ íŒŒì¼ì„ ìƒì„±í•  ë•Œ ì´ í”Œë¡œìš°ì°¨íŠ¸ë¥¼ ë”°ë¥´ì„¸ìš”:

```
ì§ˆë¬¸: ì´ ì½”ë“œëŠ” ë¬´ì—‡ì„ í•˜ë‚˜ìš”?

â”œâ”€ ìˆœìˆ˜ í•¨ìˆ˜ (ì…ë ¥ â†’ ì¶œë ¥, ë¶€ìˆ˜ íš¨ê³¼ ì—†ìŒ)
â”‚  â””â”€ lib/[ê¸°ëŠ¥ëª…].ts
â”‚     ì˜ˆ: lib/review-validation.ts
â”‚
â”œâ”€ ìƒíƒœ ê´€ë¦¬ (useState, useSearchParams ë“±)
â”‚  â””â”€ hooks/use-[ê¸°ëŠ¥ëª…].ts
â”‚     ì˜ˆ: hooks/use-review-form.ts
â”‚
â”œâ”€ UI ì»´í¬ë„ŒíŠ¸ (JSX ë°˜í™˜)
â”‚  â”œâ”€ ìƒí˜¸ì‘ìš© í•„ìš”? (í´ë¦­, ì…ë ¥ ë“±)
â”‚  â”‚  â””â”€ components/[ì»´í¬ë„ŒíŠ¸ëª…].tsx ("use client")
â”‚  â”‚     ì˜ˆ: components/review-form.tsx
â”‚  â”‚
â”‚  â””â”€ í‘œì‹œë§Œ? (ìƒí˜¸ì‘ìš© ì—†ìŒ)
â”‚     â””â”€ components/[ì»´í¬ë„ŒíŠ¸ëª…].tsx (Server Component)
â”‚        ì˜ˆ: components/review-card.tsx
â”‚
â”œâ”€ í˜ì´ì§€ (ë¼ìš°íŒ…)
â”‚  â””â”€ app/[ê²½ë¡œ]/page.tsx
â”‚     ì˜ˆ: app/cities/[slug]/reviews/page.tsx
â”‚
â””â”€ íƒ€ì… ì •ì˜
   â””â”€ types/[ë„ë©”ì¸ëª…].ts
      ì˜ˆ: types/review.ts
```

### ì˜ˆì‹œ: ë¦¬ë·° ì‘ì„± ê¸°ëŠ¥

**ì§ˆë¬¸**: ë¦¬ë·° ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜ëŠ” ì–´ë””ì—?
- ìˆœìˆ˜ í•¨ìˆ˜? âœ… (ì…ë ¥: ReviewInput, ì¶œë ¥: ValidationResult)
- â†’ `lib/review-validation.ts`

**ì§ˆë¬¸**: ë¦¬ë·° í¼ ìƒíƒœëŠ” ì–´ë””ì—?
- ìƒíƒœ ê´€ë¦¬? âœ… (useStateë¡œ rating, text ê´€ë¦¬)
- â†’ `hooks/use-review-form.ts`

**ì§ˆë¬¸**: ë¦¬ë·° í¼ UIëŠ” ì–´ë””ì—?
- UI ì»´í¬ë„ŒíŠ¸? âœ…
- ìƒí˜¸ì‘ìš© í•„ìš”? âœ… (ì…ë ¥, í´ë¦­)
- â†’ `components/review-form.tsx` ("use client")

---

## Task ì‘ì„± íŒ¨í„´

### 1-4ì‹œê°„ ë‹¨ìœ„ë¡œ ë¶„í•´

**ì›ì¹™**:
- í•˜ë‚˜ì˜ TaskëŠ” **1-4ì‹œê°„** ì•ˆì— ì™„ë£Œ ê°€ëŠ¥
- í•œ ì‚¬ëŒì´ í•˜ë£¨ì— 2-3ê°œ Task ì™„ë£Œ ëª©í‘œ
- Taskê°€ 4ì‹œê°„ ì´ìƒì´ë©´ ë” ì‘ê²Œ ë¶„í•´

**Good ì˜ˆì‹œ** âœ…:
```markdown
### Task 3.1: ë¦¬ë·° íƒ€ì… ì •ì˜ ë° ìœ íš¨ì„± ê²€ì‚¬ (2ì‹œê°„)

**íŒŒì¼ ê²½ë¡œ**:
- `types/review.ts` (ìƒì„±)
- `lib/review-validation.ts` (ìƒì„±)

**êµ¬í˜„ ë‹¨ê³„**:
- [ ] 1. Review íƒ€ì… ì •ì˜ (30ë¶„)
- [ ] 2. ReviewInput íƒ€ì… ì •ì˜ (15ë¶„)
- [ ] 3. validateReview í•¨ìˆ˜ êµ¬í˜„ (45ë¶„)
- [ ] 4. ìœ íš¨ì„± ê²€ì‚¬ í…ŒìŠ¤íŠ¸ (30ë¶„)
```

**Bad ì˜ˆì‹œ** âŒ:
```markdown
### Task 3.1: ë¦¬ë·° ê¸°ëŠ¥ êµ¬í˜„ (4ì¼)

**êµ¬í˜„ ë‹¨ê³„**:
- [ ] íƒ€ì…, ìœ íš¨ì„±, í¼, UI, í˜ì´ì§€ ëª¨ë‘ êµ¬í˜„
```
â†’ ë„ˆë¬´ í¬ê³  ì¶”ìƒì ! 1-4ì‹œê°„ ë‹¨ìœ„ë¡œ ë¶„í•´í•˜ì„¸ìš”.

---

### Task ìˆœì„œ ì •í•˜ê¸°

**ì˜ì¡´ì„± ìˆœì„œ**:
```
1. íƒ€ì… ì •ì˜ (ë‹¤ë¥¸ íŒŒì¼ì—ì„œ import í•„ìš”)
   â†“
2. ìˆœìˆ˜ í•¨ìˆ˜ (lib/, íƒ€ì… ì‚¬ìš©)
   â†“
3. ìƒíƒœ ê´€ë¦¬ (hooks/, ìˆœìˆ˜ í•¨ìˆ˜ ì‚¬ìš©)
   â†“
4. UI ì»´í¬ë„ŒíŠ¸ (components/, í›… ì‚¬ìš©)
   â†“
5. í˜ì´ì§€ í†µí•© (app/, ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©)
```

**ì˜ˆì‹œ**:
```markdown
### Task 3.1: íƒ€ì… ì •ì˜ (1ì‹œê°„)
â””â”€ types/review.ts

### Task 3.2: ìœ íš¨ì„± ê²€ì‚¬ (2ì‹œê°„)
â””â”€ lib/review-validation.ts (Task 3.1 ì™„ë£Œ í•„ìš”)

### Task 3.3: ë¦¬ë·° í¼ í›… (3ì‹œê°„)
â””â”€ hooks/use-review-form.ts (Task 3.1, 3.2 ì™„ë£Œ í•„ìš”)

### Task 3.4: ë¦¬ë·° í¼ UI (3ì‹œê°„)
â””â”€ components/review-form.tsx (Task 3.3 ì™„ë£Œ í•„ìš”)

### Task 3.5: í˜ì´ì§€ í†µí•© (1ì‹œê°„)
â””â”€ app/cities/[slug]/page.tsx (Task 3.4 ì™„ë£Œ í•„ìš”)
```

---

## í•¨ìˆ˜ ì‘ì„± íŒ¨í„´

### lib/ (ìˆœìˆ˜ í•¨ìˆ˜)

**íŠ¹ì§•**:
- ê°™ì€ ì…ë ¥ â†’ ê°™ì€ ì¶œë ¥
- ë¶€ìˆ˜ íš¨ê³¼ ì—†ìŒ (API í˜¸ì¶œ, DOM ì¡°ì‘ ê¸ˆì§€)
- í…ŒìŠ¤íŠ¸ ìš©ì´

**í…œí”Œë¦¿**:
```typescript
// lib/[ê¸°ëŠ¥ëª…].ts

/**
 * [í•¨ìˆ˜ ì„¤ëª…]
 * @param input - [íŒŒë¼ë¯¸í„° ì„¤ëª…]
 * @returns [ë°˜í™˜ê°’ ì„¤ëª…]
 */
export function functionName(input: InputType): OutputType {
  // 1. ì…ë ¥ ê²€ì¦
  if (!input) {
    return defaultValue;
  }

  // 2. ë³€í™˜/ê³„ì‚°
  const result = transform(input);

  // 3. ë°˜í™˜
  return result;
}
```

**Good ì˜ˆì‹œ** âœ…:
```typescript
// lib/review-utils.ts

export function calculateAverageRating(reviews: Review[]): number {
  if (reviews.length === 0) return 0;

  const sum = reviews.reduce((acc, review) => acc + review.rating, 0);
  return Math.round((sum / reviews.length) * 10) / 10; // ì†Œìˆ˜ì  1ìë¦¬
}

export function filterReviewsByJob(
  reviews: Review[],
  job: Job | null
): Review[] {
  if (!job) return reviews;
  return reviews.filter(review => review.job === job);
}
```

**Bad ì˜ˆì‹œ** âŒ:
```typescript
// lib/review-utils.ts âŒ
export function saveReview(review: Review) {
  // API í˜¸ì¶œ (ë¶€ìˆ˜ íš¨ê³¼!) â†’ hooks/ë¡œ ì´ë™
  fetch('/api/reviews', { method: 'POST', body: JSON.stringify(review) });
}
```

---

### hooks/ (ìƒíƒœ ê´€ë¦¬)

**íŠ¹ì§•**:
- React Hooks ì‚¬ìš© (useState, useEffect ë“±)
- ë¶€ìˆ˜ íš¨ê³¼ í—ˆìš© (API í˜¸ì¶œ, localStorage)
- "use"ë¡œ ì‹œì‘

**í…œí”Œë¦¿**:
```typescript
// hooks/use-[ê¸°ëŠ¥ëª…].ts
"use client";

import { useState } from 'react';

export function useFeatureName() {
  // 1. ìƒíƒœ ì •ì˜
  const [state, setState] = useState(initialValue);

  // 2. ì•¡ì…˜ í•¨ìˆ˜
  const actionFunction = () => {
    // ìƒíƒœ ì—…ë°ì´íŠ¸
    setState(newValue);
  };

  // 3. ë°˜í™˜
  return {
    state,
    actionFunction
  };
}
```

**Good ì˜ˆì‹œ** âœ…:
```typescript
// hooks/use-review-form.ts
"use client";

import { useState } from 'react';
import { validateReview } from '@/lib/review-validation';

export function useReviewForm() {
  const [rating, setRating] = useState<number>(0);
  const [text, setText] = useState<string>('');
  const [errors, setErrors] = useState<string[]>([]);
  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);

  const submitReview = async () => {
    // 1. ìœ íš¨ì„± ê²€ì‚¬
    const validation = validateReview({ rating, text });
    if (!validation.isValid) {
      setErrors(validation.errors);
      return;
    }

    // 2. API í˜¸ì¶œ
    setIsSubmitting(true);
    try {
      await fetch('/api/reviews', {
        method: 'POST',
        body: JSON.stringify({ rating, text })
      });
      // ì„±ê³µ ì‹œ ì´ˆê¸°í™”
      setRating(0);
      setText('');
    } catch (error) {
      setErrors(['ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤']);
    } finally {
      setIsSubmitting(false);
    }
  };

  return {
    rating,
    setRating,
    text,
    setText,
    errors,
    isSubmitting,
    submitReview
  };
}
```

---

### components/ (UI ì»´í¬ë„ŒíŠ¸)

**íŠ¹ì§•**:
- JSX ë°˜í™˜
- Server Component (ê¸°ë³¸) vs Client Component ("use client")
- ì¬ì‚¬ìš© ê°€ëŠ¥

**ê²°ì • ê¸°ì¤€**:
- ìƒí˜¸ì‘ìš© í•„ìš”? â†’ Client Component
- í‘œì‹œë§Œ? â†’ Server Component

**í…œí”Œë¦¿**:
```typescript
// components/[ì»´í¬ë„ŒíŠ¸ëª…].tsx
"use client"; // í•„ìš”ì‹œë§Œ

import { ComponentProps } from '@/types';

export function ComponentName({ prop1, prop2 }: ComponentProps) {
  return (
    <div>
      {/* UI */}
    </div>
  );
}
```

**Good ì˜ˆì‹œ** âœ…:
```typescript
// components/review-form.tsx
"use client";

import { useReviewForm } from '@/hooks/use-review-form';

export function ReviewForm() {
  const { rating, setRating, text, setText, errors, submitReview } = useReviewForm();

  return (
    <form onSubmit={(e) => { e.preventDefault(); submitReview(); }}>
      <StarRating value={rating} onChange={setRating} />
      <textarea value={text} onChange={(e) => setText(e.target.value)} />
      {errors.map(error => <p key={error} className="text-red-500">{error}</p>)}
      <button type="submit">ì œì¶œ</button>
    </form>
  );
}
```

---

## ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±ë²•

### Given-When-Then íŒ¨í„´

**êµ¬ì¡°**:
```
Given: [ì´ˆê¸° ìƒíƒœ]
When: [ì‚¬ìš©ì í–‰ë™]
Then: [ì˜ˆìƒ ê²°ê³¼]
```

**ì˜ˆì‹œ 1: ì •ìƒ ì¼€ì´ìŠ¤**
```
Given: ì‚¬ìš©ìê°€ ë„ì‹œ ìƒì„¸ í˜ì´ì§€ì— ìˆê³ , ë¦¬ë·° í¼ì´ í‘œì‹œë¨
When: ë³„ì  4ì , ì§ì—… "ê°œë°œì", í…ìŠ¤íŠ¸ "ì¢‹ì€ ë„ì‹œì…ë‹ˆë‹¤" ì…ë ¥ í›„ ì œì¶œ
Then:
  - ë¦¬ë·°ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë¨
  - ë¦¬ë·° ëª©ë¡ì— ìƒˆ ë¦¬ë·°ê°€ í‘œì‹œë¨
  - í‰ê·  ë³„ì ì´ ì—…ë°ì´íŠ¸ë¨
```

**ì˜ˆì‹œ 2: ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨**
```
Given: ì‚¬ìš©ìê°€ ë¦¬ë·° í¼ì— ìˆìŒ
When: ë³„ì  0ì , í…ìŠ¤íŠ¸ "ì§§ìŒ" (10ì ë¯¸ë§Œ) ì…ë ¥ í›„ ì œì¶œ
Then:
  - ì—ëŸ¬ ë©”ì‹œì§€ "ë³„ì ì€ 1-5 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤" í‘œì‹œ
  - ì—ëŸ¬ ë©”ì‹œì§€ "ë¦¬ë·°ëŠ” ìµœì†Œ 10ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤" í‘œì‹œ
  - ë¦¬ë·°ê°€ ì €ì¥ë˜ì§€ ì•ŠìŒ
```

**ì˜ˆì‹œ 3: ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬**
```
Given: ì‚¬ìš©ìê°€ ìœ íš¨í•œ ë¦¬ë·°ë¥¼ ì…ë ¥í•¨
When: ì œì¶œ ë²„íŠ¼ í´ë¦­ ì‹œ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë°œìƒ
Then:
  - ì—ëŸ¬ ë©”ì‹œì§€ "ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" í‘œì‹œ
  - ì…ë ¥í•œ ë‚´ìš©ì€ ìœ ì§€ë¨ (ì‚¬ìš©ìê°€ ë‹¤ì‹œ ì…ë ¥í•  í•„ìš” ì—†ìŒ)
```

---

## ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜

### 1. ë„ˆë¬´ í° Task

**âŒ Bad**:
```markdown
### Task 3.1: ë¦¬ë·° ê¸°ëŠ¥ ì™„ì„± (4ì¼)
```

**âœ… Good**:
```markdown
### Task 3.1: ë¦¬ë·° íƒ€ì… ì •ì˜ (1ì‹œê°„)
### Task 3.2: ìœ íš¨ì„± ê²€ì‚¬ (2ì‹œê°„)
### Task 3.3: ë¦¬ë·° í¼ í›… (3ì‹œê°„)
### Task 3.4: ë¦¬ë·° í¼ UI (3ì‹œê°„)
### Task 3.5: í˜ì´ì§€ í†µí•© (1ì‹œê°„)
```

---

### 2. lib/ì— ë¶€ìˆ˜ íš¨ê³¼ í¬í•¨

**âŒ Bad**:
```typescript
// lib/review.ts
export function saveReview(review: Review) {
  fetch('/api/reviews', { method: 'POST', body: JSON.stringify(review) });
}
```

**âœ… Good**:
```typescript
// hooks/use-review-form.ts
export function useReviewForm() {
  const submitReview = async () => {
    await fetch('/api/reviews', { method: 'POST', body: JSON.stringify(review) });
  };

  return { submitReview };
}
```

---

### 3. Server Componentì— "use client" ì¶”ê°€

**âŒ Bad**:
```typescript
// components/review-card.tsx
"use client"; // ë¶ˆí•„ìš”! í‘œì‹œë§Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸

export function ReviewCard({ review }: { review: Review }) {
  return <div>{review.text}</div>;
}
```

**âœ… Good**:
```typescript
// components/review-card.tsx
// "use client" ì œê±° (Server Component)

export function ReviewCard({ review }: { review: Review }) {
  return <div>{review.text}</div>;
}
```

---

### 4. ê¸°ìˆ  ë¶€ì±„ ë¯¸ë¬¸ì„œí™”

**âŒ Bad**:
```typescript
// TODO: ë‚˜ì¤‘ì— i18n ì¶”ê°€
export function ReviewForm() {
  return <button>ì œì¶œ</button>;
}
```

**âœ… Good**:
```markdown
## ğŸ§¾ ê¸°ìˆ  ë¶€ì±„

| ID | ì„¤ëª… | ìš°ì„ ìˆœìœ„ | í•´ê²° Phase |
|----|------|----------|------------|
| TD-301 | ë¦¬ë·° í¼ i18n ë¯¸ì ìš© | P2 | Phase 10 |
```

---

### 5. ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤ ëˆ„ë½

**âŒ Bad**:
```markdown
### ìµœì¢… ê²€ì¦
- [ ] ë¦¬ë·° ì‘ì„± í…ŒìŠ¤íŠ¸
```

**âœ… Good**:
```markdown
### ìµœì¢… ê²€ì¦

**ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ì¼€ì´ìŠ¤**
Given: ì‚¬ìš©ìê°€ ë„ì‹œ ìƒì„¸ í˜ì´ì§€ì— ìˆê³ , ë¦¬ë·° í¼ì´ í‘œì‹œë¨
When: ë³„ì  4ì , í…ìŠ¤íŠ¸ "ì¢‹ì€ ë„ì‹œì…ë‹ˆë‹¤" ì…ë ¥ í›„ ì œì¶œ
Then: ë¦¬ë·°ê°€ ëª©ë¡ì— í‘œì‹œë¨

**ì‹œë‚˜ë¦¬ì˜¤ 2: ìœ íš¨ì„± ê²€ì‚¬**
Given: ì‚¬ìš©ìê°€ ë¦¬ë·° í¼ì— ìˆìŒ
When: ë³„ì  0ì  ì…ë ¥ í›„ ì œì¶œ
Then: ì—ëŸ¬ ë©”ì‹œì§€ "ë³„ì ì€ 1-5 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤" í‘œì‹œ
```

---

## ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. URL ìƒíƒœ ê´€ë¦¬ ìš°ì„ 

**ì›ì¹™**: í•„í„°, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ì€ URLì— ì €ì¥

**Good ì˜ˆì‹œ** âœ…:
```typescript
// hooks/use-review-filters.ts
import { useSearchParams } from 'next/navigation';

export function useReviewFilters() {
  const searchParams = useSearchParams();
  const jobFilter = searchParams.get('job') as Job | null;

  // URL: /cities/seoul?job=developer&sort=latest
}
```

**ì´ìœ **:
- ë¶ë§ˆí¬ ê°€ëŠ¥
- ê³µìœ  ê°€ëŠ¥
- ë’¤ë¡œ ê°€ê¸° ë™ì‘

---

### 2. í•¨ìˆ˜í˜• íŒŒì´í”„ë¼ì¸

**ì›ì¹™**: ì—¬ëŸ¬ ë³€í™˜ì„ ìˆœì°¨ì ìœ¼ë¡œ ì ìš©

**Good ì˜ˆì‹œ** âœ…:
```typescript
// lib/review-utils.ts
export function processReviews(
  reviews: Review[],
  job: Job | null,
  sortOrder: 'latest' | 'oldest'
): Review[] {
  return pipe(
    reviews,
    (r) => filterReviewsByJob(r, job),
    (r) => sortReviewsByDate(r, sortOrder),
    (r) => paginateReviews(r, 10)
  );
}

function pipe<T>(value: T, ...fns: Array<(arg: T) => T>): T {
  return fns.reduce((acc, fn) => fn(acc), value);
}
```

---

### 3. ì¡°ê¸° ë°˜í™˜ (Early Return)

**ì›ì¹™**: ì˜ˆì™¸ ì¼€ì´ìŠ¤ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê³  ë°˜í™˜

**Good ì˜ˆì‹œ** âœ…:
```typescript
export function calculateAverageRating(reviews: Review[]): number {
  if (reviews.length === 0) return 0; // ì¡°ê¸° ë°˜í™˜

  const sum = reviews.reduce((acc, r) => acc + r.rating, 0);
  return sum / reviews.length;
}
```

**Bad ì˜ˆì‹œ** âŒ:
```typescript
export function calculateAverageRating(reviews: Review[]): number {
  if (reviews.length > 0) {
    const sum = reviews.reduce((acc, r) => acc + r.rating, 0);
    return sum / reviews.length;
  } else {
    return 0; // ì¤‘ì²©ëœ ì¡°ê±´
  }
}
```

---

### 4. íƒ€ì… ì•ˆì „ì„±

**ì›ì¹™**: any ê¸ˆì§€, ëª…ì‹œì  íƒ€ì… ì‚¬ìš©

**Good ì˜ˆì‹œ** âœ…:
```typescript
// types/review.ts
export type Job = 'developer' | 'designer' | 'student' | 'teacher' | 'etc';

export interface Review {
  id: string;
  citySlug: string;
  rating: number;
  job: Job;
  text: string;
  createdAt: Date;
}
```

---

### 5. í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™œìš©

**ë§¤ Task ì™„ë£Œ ì‹œ í™•ì¸**:
- [ ] TypeScript ì—ëŸ¬ ì—†ìŒ
- [ ] ESLint ê²½ê³  ì—†ìŒ
- [ ] í•¨ìˆ˜ ê¸¸ì´ 50ì¤„ ì´í•˜
- [ ] í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼

---

## ìš”ì•½

### ë¬¸ì œ ë¶„í•´ 4ë‹¨ê³„
1. **ì‚¬ìš©ì ì—¬ì •** â†’ 2. **UI ë ˆì´ì–´** â†’ 3. **ë¡œì§ ë ˆì´ì–´** â†’ 4. **ìƒíƒœ ë ˆì´ì–´**

### íŒŒì¼ ìœ„ì¹˜
- ìˆœìˆ˜ í•¨ìˆ˜ â†’ `lib/`
- ìƒíƒœ ê´€ë¦¬ â†’ `hooks/`
- UI ì»´í¬ë„ŒíŠ¸ â†’ `components/`
- í˜ì´ì§€ â†’ `app/`
- íƒ€ì… â†’ `types/`

### Task í¬ê¸°
- **1-4ì‹œê°„** ë‹¨ìœ„ë¡œ ë¶„í•´
- í•˜ë£¨ 2-3ê°œ Task ì™„ë£Œ ëª©í‘œ

### ê²€ì¦
- **Given-When-Then** ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±
- ì •ìƒ ì¼€ì´ìŠ¤ + ì—ëŸ¬ ì¼€ì´ìŠ¤

---

## ë‹¤ìŒ ë‹¨ê³„

1. `TEMPLATE.md` ë³µì‚¬í•˜ì—¬ ìƒˆ Phase íŒŒì¼ ìƒì„±
2. ì´ ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ê° ì„¹ì…˜ ì‘ì„±
3. `EXAMPLE.md`ì—ì„œ ì‹¤ì œ ì˜ˆì‹œ í™•ì¸
4. íŒ€ì›ê³¼ ë¦¬ë·° í›„ êµ¬í˜„ ì‹œì‘

**ì§ˆë¬¸ì´ ìˆìœ¼ë©´**: GitHub Issue ë˜ëŠ” íŒ€ ì±„ë„ì—ì„œ ë¬¸ì˜í•˜ì„¸ìš”!
